<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sneaker Haven</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom styles for animations and specific elements */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden; /* Prevent horizontal scroll due to off-screen nav */
        }

        /* Side navigation animation */
        .side-nav {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }

        .side-nav.open {
            transform: translateX(0);
        }

        /* Overlay for side nav */
        .overlay {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease-in-out, visibility 0.3s;
        }

        .overlay.open {
            visibility: visible;
            opacity: 0.5;
        }

        /* Product card hover effect */
        .product-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        /* Button hover effect */
        .btn-primary {
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
        }

        .btn-primary:hover {
            background-color: #3b82f6; /* Tailwind blue-500 */
            transform: translateY(-1px);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        /* Cart item removal animation */
        .cart-item-removed {
            animation: fadeOut 0.3s forwards;
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateX(0); }
            to { opacity: 0; transform: translateX(-20px); height: 0; padding: 0; margin: 0; overflow: hidden; }
        }

        /* Image slider animations */
        .slider-image {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slider-image.active {
            opacity: 1;
        }

        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Overlay for side navigation -->
    <div id="overlay" class="overlay fixed inset-0 bg-black z-40"></div>

    <!-- Side Navigation -->
    <nav id="sideNav" class="side-nav fixed top-0 left-0 h-full w-64 bg-white shadow-lg z-50 p-6 flex flex-col justify-between">
        <div>
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-gray-900">Sneaker Haven</h2>
                <button id="closeNav" class="text-gray-600 hover:text-gray-900 focus:outline-none">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            <ul class="space-y-4">
                <li><a href="#" class="nav-link block text-lg text-gray-700 hover:text-blue-600 font-medium py-2 px-4 rounded-lg transition duration-200" data-page="home">Home</a></li>
                <li><a href="#" class="nav-link block text-lg text-gray-700 hover:text-blue-600 font-medium py-2 px-4 rounded-lg transition duration-200" data-page="bestsellers">Bestsellers</a></li>
                <li><a href="#" class="nav-link block text-lg text-gray-700 hover:text-blue-600 font-medium py-2 px-4 rounded-lg transition duration-200" data-page="cart">Cart (<span id="cartItemCount" class="text-blue-600 font-semibold">0</span>)</a></li>
                <li><a href="#" class="nav-link block text-lg text-gray-700 hover:text-blue-600 font-medium py-2 px-4 rounded-lg transition duration-200">About Us</a></li>
                <li><a href="#" class="nav-link block text-lg text-gray-700 hover:text-blue-600 font-medium py-2 px-4 rounded-lg transition duration-200">Contact</a></li>
            </ul>
        </div>
        <div class="mt-8 text-sm text-gray-500">
            &copy; 2025 Sneaker Haven. All rights reserved.
        </div>
    </nav>

    <!-- Header -->
    <header class="bg-white shadow-md p-4 sticky top-0 z-30">
        <div class="container mx-auto flex justify-between items-center">
            <button id="openNav" class="text-gray-600 hover:text-gray-900 focus:outline-none md:hidden">
                <i class="fas fa-bars text-2xl"></i>
            </button>
            <a href="#" class="text-3xl font-extrabold text-blue-600 tracking-tight">Sneaker Haven</a>
            <nav class="hidden md:block">
                <ul class="flex space-x-6">
                    <li><a href="#" class="nav-link text-lg text-gray-700 hover:text-blue-600 font-medium transition duration-200" data-page="home">Home</a></li>
                    <li><a href="#" class="nav-link text-lg text-gray-700 hover:text-blue-600 font-medium transition duration-200" data-page="bestsellers">Bestsellers</a></li>
                    <li><a href="#" class="nav-link text-lg text-gray-700 hover:text-blue-600 font-medium transition duration-200" data-page="cart">Cart (<span id="cartItemCountDesktop" class="text-blue-600 font-semibold">0</span>)</a></li>
                </ul>
            </nav>
            <div class="flex items-center space-x-4">
                <button class="text-gray-600 hover:text-blue-600 focus:outline-none">
                    <i class="fas fa-search text-xl"></i>
                </button>
                <button id="cartIcon" class="text-gray-600 hover:text-blue-600 focus:outline-none relative md:hidden">
                    <i class="fas fa-shopping-cart text-xl"></i>
                    <span id="cartBadge" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="container mx-auto p-4 mt-8">

        <!-- Home Page -->
        <section id="homePage" class="page-content active">
            <div class="relative w-full h-80 md:h-96 rounded-xl overflow-hidden shadow-lg mb-12 bg-gray-200">
                <!-- Image Slider -->
                <div id="imageSlider" class="relative w-full h-full">
                    <img src="https://placehold.co/1200x400/E0F2F7/2C3E50?text=Premium+Sneakers" alt="Premium Sneakers" class="slider-image active">
                    <img src="https://placehold.co/1200x400/D1F2EB/2E86C1?text=New+Arrivals" alt="New Arrivals" class="slider-image">
                    <img src="https://placehold.co/1200x400/FADBD8/CB4335?text=Limited+Edition" alt="Limited Edition" class="slider-image">
                </div>
                <div class="absolute inset-0 flex flex-col justify-center items-center text-white p-4 bg-black bg-opacity-30">
                    <h1 class="text-4xl md:text-6xl font-extrabold text-center drop-shadow-lg mb-4">Step Up Your Style</h1>
                    <p class="text-lg md:text-xl text-center mb-6">Discover the latest and greatest in sneaker fashion.</p>
                    <button class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition duration-300 hover:scale-105" onclick="changePage('bestsellers')">Shop Now</button>
                </div>
                <!-- Slider Navigation Dots -->
                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
                    <button class="slider-dot w-3 h-3 bg-white rounded-full opacity-60 hover:opacity-100 transition duration-200 active-dot"></button>
                    <button class="slider-dot w-3 h-3 bg-white rounded-full opacity-60 hover:opacity-100 transition duration-200"></button>
                    <button class="slider-dot w-3 h-3 bg-white rounded-full opacity-60 hover:opacity-100 transition duration-200"></button>
                </div>
            </div>

            <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">Featured Products</h2>
            <div id="featuredProducts" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Products will be loaded here by JavaScript -->
            </div>
        </section>

        <!-- Bestsellers Page -->
        <section id="bestsellersPage" class="page-content hidden">
            <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">Our Bestsellers</h2>
            <div id="bestsellersProducts" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Bestseller products will be loaded here by JavaScript -->
            </div>
        </section>

        <!-- Cart Page -->
        <section id="cartPage" class="page-content hidden">
            <h2 class="text-4xl font-bold text-gray-900 mb-8 text-center">Your Shopping Cart</h2>
            <div id="cartItems" class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <!-- Cart items will be loaded here by JavaScript -->
                <p id="emptyCartMessage" class="text-center text-gray-500 text-lg hidden">Your cart is empty. Start shopping!</p>
            </div>
            <div class="flex flex-col md:flex-row justify-between items-center bg-white rounded-xl shadow-lg p-6">
                <div class="text-2xl font-bold text-gray-900 mb-4 md:mb-0">Total: $<span id="cartTotal">0.00</span></div>
                <button class="btn-primary bg-blue-600 text-white py-3 px-8 rounded-full shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    Proceed to Checkout
                </button>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto text-center">
            <p>&copy; 2025 Sneaker Haven. All rights reserved.</p>
            <div class="flex justify-center space-x-6 mt-4">
                <a href="#" class="text-gray-400 hover:text-white transition duration-200"><i class="fab fa-facebook-f text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white transition duration-200"><i class="fab fa-twitter text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white transition duration-200"><i class="fab fa-instagram text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white transition duration-200"><i class="fab fa-pinterest-p text-xl"></i></a>
            </div>
        </div>
    </footer>

    <script>
        // Data for products (mock data)
        const products = [
            { id: 1, name: 'Nike Air Max 270', price: 150.00, image: 'https://placehold.co/300x200/A7C7E7/2F4F4F?text=Air+Max+270', category: 'running', isBestseller: true },
            { id: 2, name: 'Adidas Ultraboost 22', price: 180.00, image: 'https://placehold.co/300x200/ADD8E6/2F4F4F?text=Ultraboost+22', category: 'running', isBestseller: true },
            { id: 3, name: 'Puma RS-X Reinvention', price: 110.00, image: 'https://placehold.co/300x200/B0E0E6/2F4F4F?text=RS-X+Reinvention', category: 'casual', isBestseller: false },
            { id: 4, name: 'New Balance 990v5', price: 175.00, image: 'https://placehold.co/300x200/C0C0C0/2F4F4F?text=NB+990v5', category: 'lifestyle', isBestseller: true },
            { id: 5, name: 'Converse Chuck 70', price: 85.00, image: 'https://placehold.co/300x200/F0F8FF/2F4F4F?text=Chuck+70', category: 'casual', isBestseller: false },
            { id: 6, name: 'Vans Old Skool', price: 70.00, image: 'https://placehold.co/300x200/FAEBD7/2F4F4F?text=Old+Skool', category: 'skate', isBestseller: false },
            { id: 7, name: 'Reebok Club C 85', price: 90.00, image: 'https://placehold.co/300x200/F5F5DC/2F4F4F?text=Club+C+85', category: 'casual', isBestseller: true },
            { id: 8, name: 'Asics Gel-Kayano 28', price: 160.00, image: 'https://placehold.co/300x200/FFF8DC/2F4F4F?text=Gel-Kayano+28', category: 'running', isBestseller: false },
        ];

        let cart = JSON.parse(localStorage.getItem('sneakerCart')) || [];

        // DOM Elements
        const sideNav = document.getElementById('sideNav');
        const openNavBtn = document.getElementById('openNav');
        const closeNavBtn = document.getElementById('closeNav');
        const overlay = document.getElementById('overlay');
        const cartItemCountSpan = document.getElementById('cartItemCount');
        const cartItemCountDesktopSpan = document.getElementById('cartItemCountDesktop');
        const cartBadge = document.getElementById('cartBadge');
        const featuredProductsContainer = document.getElementById('featuredProducts');
        const bestsellersProductsContainer = document.getElementById('bestsellersProducts');
        const cartItemsContainer = document.getElementById('cartItems');
        const cartTotalSpan = document.getElementById('cartTotal');
        const emptyCartMessage = document.getElementById('emptyCartMessage');
        const navLinks = document.querySelectorAll('.nav-link');
        const pageContents = document.querySelectorAll('.page-content');

        // Image Slider Elements
        const sliderImages = document.querySelectorAll('.slider-image');
        const sliderDots = document.querySelectorAll('.slider-dot');
        let currentSlide = 0;
        let slideInterval;

        // --- Utility Functions ---

        /**
         * Updates the cart item count displayed in the header and side nav.
         */
        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartItemCountSpan.textContent = totalItems;
            cartItemCountDesktopSpan.textContent = totalItems;
            if (totalItems > 0) {
                cartBadge.textContent = totalItems;
                cartBadge.classList.remove('hidden');
            } else {
                cartBadge.classList.add('hidden');
            }
        }

        /**
         * Saves the current cart state to local storage.
         */
        function saveCart() {
            localStorage.setItem('sneakerCart', JSON.stringify(cart));
        }

        /**
         * Changes the active page displayed.
         * @param {string} pageId - The ID of the page to show (e.g., 'home', 'bestsellers', 'cart').
         */
        function changePage(pageId) {
            pageContents.forEach(page => {
                if (page.id === `${pageId}Page`) {
                    page.classList.add('active');
                    page.classList.remove('hidden');
                } else {
                    page.classList.remove('active');
                    page.classList.add('hidden');
                }
            });
            // Close side nav if open
            if (sideNav.classList.contains('open')) {
                closeSideNav();
            }
            // Update cart display if navigating to cart page
            if (pageId === 'cart') {
                renderCartItems();
            }
            // Scroll to top of the page
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        /**
         * Renders a product card HTML.
         * @param {Object} product - The product object.
         * @returns {string} HTML string for the product card.
         */
        function renderProductCard(product) {
            return `
                <div class="product-card bg-white rounded-xl shadow-md overflow-hidden flex flex-col items-center p-6 transform hover:scale-105 transition duration-300">
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover rounded-lg mb-4">
                    <h3 class="text-xl font-semibold text-gray-900 mb-2 text-center">${product.name}</h3>
                    <p class="text-gray-700 text-lg font-bold mb-4">$${product.price.toFixed(2)}</p>
                    <button class="btn-primary bg-blue-600 text-white py-2 px-6 rounded-full shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
                            onclick="addToCart(${product.id})">
                        Add to Cart
                    </button>
                </div>
            `;
        }

        /**
         * Renders all featured products on the home page.
         */
        function renderFeaturedProducts() {
            const featured = products.filter(p => !p.isBestseller); // Example: show non-bestsellers as featured
            featuredProductsContainer.innerHTML = featured.map(renderProductCard).join('');
        }

        /**
         * Renders all bestseller products on the bestsellers page.
         */
        function renderBestsellersProducts() {
            const bestsellers = products.filter(p => p.isBestseller);
            bestsellersProductsContainer.innerHTML = bestsellers.map(renderProductCard).join('');
        }

        /**
         * Renders the cart items on the cart page.
         */
        function renderCartItems() {
            cartItemsContainer.innerHTML = ''; // Clear existing items

            if (cart.length === 0) {
                emptyCartMessage.classList.remove('hidden');
            } else {
                emptyCartMessage.classList.add('hidden');
                cart.forEach(item => {
                    const product = products.find(p => p.id === item.productId);
                    if (product) {
                        const cartItemDiv = document.createElement('div');
                        cartItemDiv.id = `cart-item-${item.productId}`;
                        cartItemDiv.classList.add('flex', 'items-center', 'justify-between', 'p-4', 'border-b', 'border-gray-200', 'last:border-b-0', 'transition-all', 'duration-300', 'ease-in-out');
                        cartItemDiv.innerHTML = `
                            <div class="flex items-center space-x-4">
                                <img src="${product.image}" alt="${product.name}" class="w-20 h-20 object-cover rounded-lg shadow-sm">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-900">${product.name}</h3>
                                    <p class="text-gray-700">$${product.price.toFixed(2)}</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center border border-gray-300 rounded-md">
                                    <button onclick="updateQuantity(${item.productId}, -1)" class="px-3 py-1 text-gray-700 hover:bg-gray-200 rounded-l-md focus:outline-none">-</button>
                                    <span class="px-3 py-1 text-gray-800">${item.quantity}</span>
                                    <button onclick="updateQuantity(${item.productId}, 1)" class="px-3 py-1 text-gray-700 hover:bg-gray-200 rounded-r-md focus:outline-none">+</button>
                                </div>
                                <div class="text-lg font-bold text-gray-900 w-20 text-right">$${(product.price * item.quantity).toFixed(2)}</div>
                                <button onclick="removeFromCart(${item.productId})" class="text-red-500 hover:text-red-700 focus:outline-none">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </div>
                        `;
                        cartItemsContainer.appendChild(cartItemDiv);
                    }
                });
            }
            updateCartTotal();
        }

        /**
         * Updates the total price in the cart.
         */
        function updateCartTotal() {
            const total = cart.reduce((sum, item) => {
                const product = products.find(p => p.id === item.productId);
                return sum + (product ? product.price * item.quantity : 0);
            }, 0);
            cartTotalSpan.textContent = total.toFixed(2);
        }

        // --- Cart Operations ---

        /**
         * Adds a product to the cart or increments its quantity.
         * @param {number} productId - The ID of the product to add.
         */
        function addToCart(productId) {
            const existingItem = cart.find(item => item.productId === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ productId: productId, quantity: 1 });
            }
            saveCart();
            updateCartCount();
            // Optional: Add a subtle visual feedback for adding to cart
            const productCard = document.querySelector(`.product-card button[onclick="addToCart(${productId})"]`).closest('.product-card');
            if (productCard) {
                productCard.style.transition = 'transform 0.1s ease-in-out';
                productCard.style.transform = 'scale(1.02)';
                setTimeout(() => {
                    productCard.style.transform = 'scale(1)';
                    productCard.style.transition = ''; // Reset transition
                }, 100);
            }
        }

        /**
         * Updates the quantity of a product in the cart.
         * @param {number} productId - The ID of the product.
         * @param {number} change - The amount to change the quantity by (+1 or -1).
         */
        function updateQuantity(productId, change) {
            const itemIndex = cart.findIndex(item => item.productId === productId);
            if (itemIndex > -1) {
                cart[itemIndex].quantity += change;
                if (cart[itemIndex].quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    saveCart();
                    renderCartItems(); // Re-render to update quantity and total
                    updateCartCount();
                }
            }
        }

        /**
         * Removes a product from the cart.
         * @param {number} productId - The ID of the product to remove.
         */
        function removeFromCart(productId) {
            const itemElement = document.getElementById(`cart-item-${productId}`);
            if (itemElement) {
                itemElement.classList.add('cart-item-removed'); // Add animation class
                itemElement.addEventListener('animationend', () => {
                    cart = cart.filter(item => item.productId !== productId);
                    saveCart();
                    renderCartItems(); // Re-render after animation
                    updateCartCount();
                });
            } else {
                // Fallback if animation class isn't needed or element not found
                cart = cart.filter(item => item.productId !== productId);
                saveCart();
                renderCartItems();
                updateCartCount();
            }
        }

        // --- Side Navigation Functions ---

        /**
         * Opens the side navigation.
         */
        function openSideNav() {
            sideNav.classList.add('open');
            overlay.classList.add('open');
        }

        /**
         * Closes the side navigation.
         */
        function closeSideNav() {
            sideNav.classList.remove('open');
            overlay.classList.remove('open');
        }

        // --- Image Slider Functions ---

        /**
         * Shows a specific slide in the image slider.
         * @param {number} index - The index of the slide to show.
         */
        function showSlide(index) {
            sliderImages.forEach((img, i) => {
                img.classList.remove('active');
                if (i === index) {
                    img.classList.add('active');
                }
            });
            sliderDots.forEach((dot, i) => {
                dot.classList.remove('active-dot');
                dot.classList.remove('bg-white', 'opacity-60');
                dot.classList.add('bg-gray-400', 'opacity-60'); // Default inactive
                if (i === index) {
                    dot.classList.add('active-dot');
                    dot.classList.remove('bg-gray-400', 'opacity-60');
                    dot.classList.add('bg-white', 'opacity-100'); // Active dot
                }
            });
            currentSlide = index;
        }

        /**
         * Advances to the next slide in the image slider.
         */
        function nextSlide() {
            currentSlide = (currentSlide + 1) % sliderImages.length;
            showSlide(currentSlide);
        }

        /**
         * Starts the automatic image slider.
         */
        function startSlider() {
            slideInterval = setInterval(nextSlide, 5000); // Change slide every 5 seconds
        }

        /**
         * Resets the image slider interval.
         */
        function resetSliderInterval() {
            clearInterval(slideInterval);
            startSlider();
        }

        // --- Event Listeners ---

        // Side navigation toggles
        openNavBtn.addEventListener('click', openSideNav);
        closeNavBtn.addEventListener('click', closeSideNav);
        overlay.addEventListener('click', closeSideNav); // Close nav when clicking outside

        // Page navigation links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // Prevent default link behavior
                const page = link.dataset.page;
                if (page) {
                    changePage(page);
                }
            });
        });

        // Image slider dots
        sliderDots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                showSlide(index);
                resetSliderInterval(); // Reset timer on manual navigation
            });
        });

        // Initial setup on window load
        window.onload = function() {
            updateCartCount();
            renderFeaturedProducts();
            renderBestsellersProducts();
            renderCartItems(); // Render cart on load, though it's hidden initially
            showSlide(0); // Show the first slide
            startSlider(); // Start the automatic slider
        };
    </script>
</body>
</html>
